# Text Statistics Plugin (Плагин текстовой статистики)

<b> Плагин для <ins>VS Code</ins> для отслеживания статистики текста в реальном времени </b>


## Функционал

- <b>Подсчет слов, символов и строк</b>
- Обновление в реальном времени
- Настройка отображаемой статистики
- Простое включение/выключение

## Использование

1. Плагин автоматически активируется при открытии текстового файла
2. Статистика отображается в правой части статус-бара
3. Для включения/выключения используйте команду *"Text Statistics: Включить/выключить статистику"*

## Настройки

В настройках VS Code можно настроить:
- Показ количества слов
- Показ количества символов  
- Показ количества строк

## Архитектура IDE
- **Манифест** - *package.json*
- **src/extension.js** - реализация логики и интеграции в IDE *(vscode)*

## Метод работы плагина
**1. Инициализация плагина** *(активация)*
-  Создаются 3 элемента статус-бара (слова/символы/строки)
- Регистрируется команда **toggleStatistics**:  вкл/выкл отображения статистики
- Настраиваются **слушатели событий**:
    - Изменение текста;
    - Смена активного редактора.
- Вызывается первое обновление статистики

<!-- -------------------- -->

**2. Обработка событий**

*(Что происходит при вносе изменении в файл пользователем)*

- **Изменение текста:** вызов события *onDidChangeTextDocument*
- **Смена редактора**: вызов события *onDidChangeActiveTextEditor*

<!-- -------------------- -->

**3. Цикл работы плагина**

**Изменение текста:**

1. **Событие *onDidChangeTextDocument***
2. **Функция updateStatistics():**
    - Получение текста документа
    - Подсчет метрик:
        - **Слова:** *text.split(/\s+/).length*
        - **Символы:** *text.length*
        - **Строки:** *document.lineCount*
    - Обновление статус-бара
3. *[Повтор при следующем изменении]*


**Смена редактора:**

1. **Событие *onDidChangeActiveTextEditor***
2. **Функция updateStatistics():**
    - Получение информации об актуальном редакторе
    - переключение на него
    - обновление статистики
3. *[Повтор при следующем изменении]*
<!-- -------------------- -->

**4. Связь с UI vscode**
- **<u>Создание статус-бара</u>:** *vscode.window.createStatusBarItem(position, priority)*
    - [**слова:** *<кол-во слов>*] [**Символы:** *<кол-во символов>*] [**Строк** *<кол-во строк>*]
- **<u>Отображение в vscode</u>:** *statusBarItem.show()*
- **<u>Скрытие из vscode</u>:** *statusBarItem.hide()*
- **<u> Обновление показателей</u>:** *statusBarItem.text = "Текст"*

**5. Конфигурации пользователя**

Установка плагина в соответствии с пользовательскими настройками:
- **Чтение конфигураций:** *vscode.workspace.getConfiguration('textStatistics');*
- **Применение**


## Об авторе
- Группа: **M3100**
- ФИО: **Силевич Андрей**

## История изменения проекта
- **Initial commit** -  6f1ca58c7092cedd4293dbcf07263dc732d352a0
- **README correction** - e6de4a088fd9dd6a2e13b8c501bb94f37fb209ec
- **README correction 2** - f24f6e75af7db918cbd85976cf99f1dc13a79c3c
- **README correction 3: author info added** - 19ab2a4f42a2d2bddfe01bc95f46afa6c01a0454
- **README correction 4** - 725c7cacd37d43bdad42e525ad427d4bd355aed5